import java.sql.*;
import java.util.Scanner;

public class ToAdd extends InfoMa {



    @Override
    public String toString() {
        return "Added new scores for " +  super.toString();
    }

    public static void main(String[] args) throws SQLException{
        Connection connection = Database.getConnection();
        Scanner scanner = new Scanner(System.in);

        System.out.print("Enter student name: ");
        studentName = scanner.nextLine();
        System.out.print("Enter course name: ");
        courseName = scanner.nextLine();
        System.out.print("Enter midterm score: ");
        midtermScore = scanner.nextInt();
        System.out.print("Enter endterm score: ");
        endtermScore = scanner.nextInt();
        System.out.print("Enter homeworks score: ");
        homeworksScore = scanner.nextInt();
        System.out.print("Enter assignments score: ");
        assignmentsScore = scanner.nextInt();
        scanner.close();


        totalScore = midtermScore + endtermScore + homeworksScore + assignmentsScore;
        gpa = totalScore / 100.0;


        String insertQuery = "INSERT INTO enrollments (student_id, course_id, midterm_score, endterm_score, homework_score, assignment_score, gpa) VALUES (?, ?, ?, ?, ?, ?, ?)";
        PreparedStatement preparedStatement = connection.prepareStatement(insertQuery);
        preparedStatement.setInt(1, getStudentId(connection, studentName));
        preparedStatement.setInt(2, getCourseId(connection, courseName));
        preparedStatement.setInt(3, midtermScore);
        preparedStatement.setInt(4, endtermScore);
        preparedStatement.setInt(5, homeworksScore);
        preparedStatement.setInt(6, assignmentsScore);
        preparedStatement.setDouble(7, gpa);
        preparedStatement.executeUpdate();
        System.out.println("Student information has been added to the database.");
        System.out.println("Student name: " + studentName);
        System.out.println("Course name: " + courseName);
        System.out.println("Midterm score: " + midtermScore);
        System.out.println("Endterm score: " + endtermScore);
        System.out.println("Homeworks score: " + homeworksScore);
        System.out.println("Assignments score: " + assignmentsScore);
        System.out.println("GPA: " + gpa);

    }

//    @Override
//    public void greet() {
//        System.out.println("Student information is added");
//    }

    @Override
    public String displayInfo() {
        return "this is all information";
    }
}
